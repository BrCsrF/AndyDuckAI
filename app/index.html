<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>AndyDuckAI - Spelling Bee ğŸ¦†</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="app">
    <!-- PIN Screen -->
    <div id="screen-pin" class="screen active">
      <div class="duck-container">
        <img src="assets/ducks/phonics.gif" alt="Andy Duck" class="duck-img">
        <div class="speech-bubble">
          <p>ğŸ” Enter PIN to start!</p>
        </div>
      </div>
      <div class="input-area">
        <input type="password" id="input-pin" placeholder="Enter PIN..." class="text-input pin-input" maxlength="8" inputmode="numeric">
        <button class="btn-primary" id="btn-submit-pin">
          Enter ğŸ¦†
        </button>
        <p class="error-text" id="pin-error" style="display:none; color:#e74c3c;">Wrong PIN, try again!</p>
      </div>
    </div>

    <!-- Branch Selection Screen (Teacher selects once) -->
    <div id="screen-branch" class="screen">
      <div class="duck-container">
        <img src="assets/ducks/reading.gif" alt="Andy Duck" class="duck-img">
        <div class="speech-bubble">
          <p>ğŸ”§ Teacher Setup</p>
          <p>Select year and branch:</p>
        </div>
      </div>
      
      <!-- Study Year/Semester Selection -->
      <div class="year-selector">
        <button class="year-btn" data-year="11302">113ä¸‹</button>
        <button class="year-btn active" data-year="11401">114ä¸Š</button>
        <button class="year-btn" data-year="11402">114ä¸‹</button>
      </div>
      
      <div class="branch-grid" id="branch-grid">
        <div class="branch-card" data-branch="MQ">
          <div class="branch-code">MQ</div>
          <div class="branch-name">æ°‘æ¬Šåˆ†æ ¡</div>
        </div>
        <div class="branch-card" data-branch="MS">
          <div class="branch-code">MS</div>
          <div class="branch-name">æ°‘ç”Ÿåˆ†æ ¡</div>
        </div>
        <div class="branch-card" data-branch="MT">
          <div class="branch-code">MT</div>
          <div class="branch-name">æ°‘æ—åˆ†æ ¡</div>
        </div>
        <div class="branch-card" data-branch="JK">
          <div class="branch-code">JK</div>
          <div class="branch-name">å¥åº·åˆ†æ ¡</div>
        </div>
        <div class="branch-card" data-branch="YS">
          <div class="branch-code">YS</div>
          <div class="branch-name">å»¶å£½åˆ†æ ¡</div>
        </div>
        <div class="branch-card" data-branch="XS">
          <div class="branch-code">XS</div>
          <div class="branch-name">è¥¿æ¾åˆ†æ ¡</div>
        </div>
      </div>
    </div>

    <!-- Name Screen (Kid Login) -->
    <div id="screen-name" class="screen">
      <!-- Branch indicator at top -->
      <div class="branch-header" id="branch-header">
        <span id="branch-display">MS æ°‘ç”Ÿåˆ†æ ¡</span>
        <span id="year-display">114å­¸å¹´</span>
      </div>
      
      <div class="duck-container">
        <img src="assets/ducks/phonics.gif" alt="Andy Duck" class="duck-img" id="duck-mascot">
        <div class="speech-bubble">
          <p>Hi! I'm Andy Duck!</p>
          <p>What's your name?</p>
        </div>
      </div>
      
      <!-- Show what was heard -->
      <div class="heard-display" id="heard-display" style="display:none;">
        <p class="heard-label">I heard:</p>
        <p class="heard-name" id="heard-name"></p>
      </div>
      
      <div class="input-area">
        <button class="btn-voice btn-large" id="btn-say-name">
          ğŸ¤ Tap and Say Your Name!
        </button>
        <p class="or-divider">or type:</p>
        <input type="text" id="input-name" placeholder="Type your name..." class="text-input">
        <button class="btn-primary" id="btn-submit-name">
          That's Me! âœ“
        </button>
      </div>
    </div>

    <!-- Level Selection Screen -->
    <div id="screen-level" class="screen">
      <div class="duck-container">
        <img src="assets/ducks/reading.gif" alt="Andy Duck" class="duck-img">
        <div class="speech-bubble">
          <p>Hi <span id="student-name-display">friend</span>!</p>
          <p>What's your level?</p>
        </div>
      </div>
      <div class="level-grid" id="level-grid">
        <div class="level-card" data-level="Starters">
          <div class="level-icon">ğŸŒŸ</div>
          <div class="level-name">Starters</div>
        </div>
        <div class="level-card" data-level="Movers">
          <div class="level-icon">ğŸš€</div>
          <div class="level-name">Movers</div>
        </div>
        <div class="level-card" data-level="Flyers">
          <div class="level-icon">âœˆï¸</div>
          <div class="level-name">Flyers</div>
        </div>
        <div class="level-card" data-level="SuperFlyers">
          <div class="level-icon">ğŸ¦¸</div>
          <div class="level-name">SuperFlyers</div>
        </div>
      </div>
    </div>

    <!-- Set Selection Screen -->
    <div id="screen-set" class="screen">
      <div class="duck-container">
        <img src="assets/ducks/reading.gif" alt="Andy Duck" class="duck-img">
        <div class="speech-bubble">
          <p><span id="level-display">Starters</span> - Pick a set!</p>
        </div>
      </div>
      <button class="btn-back" id="btn-back-level">â† Back to Levels</button>
      <div class="set-grid" id="set-grid">
        <!-- Sets will be populated by JavaScript -->
      </div>
    </div>

    <!-- Spelling Screen -->
    <div id="screen-spelling" class="screen">
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
        <span class="progress-text" id="progress-text">Word 1 of 5</span>
        <button class="btn-exit" id="btn-exit">âœ• Exit</button>
      </div>
      <div class="duck-container">
        <img src="assets/ducks/phonics.gif" alt="Andy Duck" class="duck-img speaking" id="duck-speaking">
        <div class="speech-bubble large" id="word-bubble">
          <p class="current-word" id="current-word">apple</p>
          <button class="btn-repeat" id="btn-repeat">ğŸ”Š Say Again</button>
        </div>
      </div>
      <div class="spelling-area">
        <div class="letters-display" id="letters-display">
          <!-- Letters will appear here as kid spells -->
        </div>
        <button class="btn-voice large" id="btn-spell">
          ğŸ¤ Spell It!
        </button>
        <p class="hint-text" id="hint-text"></p>
      </div>
    </div>

    <!-- Feedback Screen (shows briefly) -->
    <div id="screen-feedback" class="screen">
      <div class="feedback-container" id="feedback-container">
        <p class="feedback-word" id="feedback-word">APPLE</p>
        <div class="feedback-emoji" id="feedback-emoji">ğŸ‰</div>
        <p class="feedback-text" id="feedback-text">Perfect!</p>
      </div>
    </div>

    <!-- Finish Screen -->
    <div id="screen-finish" class="screen">
      <div class="duck-container">
        <img src="assets/ducks/graduate.gif" alt="Andy Duck" class="duck-img celebrating">
        <div class="speech-bubble large">
          <p class="finish-message" id="finish-message">Amazing job!</p>
          <p class="finish-subtext">You're a spelling superstar! â­</p>
        </div>
      </div>
      <div class="stars-container" id="stars-container">
        <!-- Stars will be shown here -->
      </div>
      <button class="btn-primary" id="btn-again">
        Practice Again! ğŸ”„
      </button>
      <button class="btn-primary" id="btn-next-student" style="background: linear-gradient(135deg, #6BCB77, #4CAF50);">
        Next Student ğŸ‘‹
      </button>
    </div>
  </div>

  <!-- Audio elements for TTS -->
  <audio id="audio-word" preload="auto"></audio>
  <audio id="audio-feedback" preload="auto"></audio>

  <script src="app.js"></script>
</body>
</html>
